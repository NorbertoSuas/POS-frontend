<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 login-container">
  <div class="w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-600 login-card">
    <h2 class="text-3xl font-bold mb-8 text-center text-primary-600 dark:text-primary-400">Sign In</h2>
    <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-6">
      <!-- Username field -->
      <div class="form-control">
        <label class="label" for="username">
          <span class="label-text font-semibold text-gray-900 dark:text-gray-100">Username</span>
        </label>
        <input id="username" formControlName="username" type="text" placeholder="Your username"
               autocomplete="username"
               class="input input-bordered w-full focus:input-primary" />
        @if (form.controls.username.invalid && form.controls.username.touched) {
            <label class="label" for="username">
              <span class="label-text-alt text-error">Username must have at least 3 characters.</span>
            </label>
        }
      </div>

      <!-- Password field -->
      <div class="form-control">
        <label class="label" for="password">
          <span class="label-text font-semibold text-gray-900 dark:text-gray-100">Password</span>
        </label>
        <input id="password" formControlName="password" type="password" placeholder="Your password"
               autocomplete="current-password"
               class="input input-bordered w-full focus:input-primary" />
        @if (form.controls.password.invalid && form.controls.password.touched) {
            <label class="label" for="password">
              <span class="label-text-alt text-error">Password must have at least 6 characters.</span>
            </label>
        }   
      </div>

      <!-- General error message -->
      @if (error()) {
          <div class="alert alert-error">
            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            <span>{{ error() }}</span>
          </div>
      }

      <!-- Button with spinner and disabled state -->
      <button type="submit"
              class="btn btn-primary w-full h-12 text-lg font-semibold"
              [disabled]="loading()">
        @if (loading()) {
            <span class="loading loading-spinner loading-md"></span>
            <span>Loading...</span>
        }
        @else {
             <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
             </svg>
             <span>Sign In</span>
        }
      </button>
    </form>
  </div>
</div>